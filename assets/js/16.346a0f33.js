(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{367:function(s,t,a){"use strict";a.r(t);var n=a(42),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"git-创建空的分支"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git-创建空的分支"}},[s._v("#")]),s._v(" git--创建空的分支")]),s._v(" "),a("p",[s._v("背景：项目进行中，需要创建一个空分支。在Git中创建分支，是必须有一个父节点的，也就是说必须在已有的分支上来创建新的分支，如果你的工程已经进行了一段时间，这个时候是无法创建空分支的。")]),s._v(" "),a("p",[a("strong",[s._v("解决方法：")])]),s._v(" "),a("p",[a("strong",[s._v("使用 git checkout的--orphan参数:")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout --orphan "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.0")]),s._v(".2\n")])])]),a("p",[s._v("该命令会生成一个叫2.0.2的分支，该分支会包含父分支的所有文件。但新的分支不会指向任何以前的提交，就是它没有历史，如果你提交当前内容，那么这次提交就是这个分支的首次提交。")]),s._v(" "),a("p",[a("strong",[s._v("删除所有文件：")])]),s._v(" "),a("p",[a("strong",[s._v("我们想要空分支，所以我们需要把当前内容全部删除，用git命令")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n")])])]),a("p",[s._v("注意：最后的‘.’不能少。")]),s._v(" "),a("p",[a("strong",[s._v("提交分支：")])]),s._v(" "),a("p",[s._v("如果没有任何文件提交的话，分支是看不到的，所以我们需要创建一个新文件，然后提交则新创建的branch就会显示出来。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'# new branch'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" README.md\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" README.md\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit -m "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'new branch'")]),s._v("\n")])])]),a("p",[s._v("最后push到远程仓库，则新的空分支就创建成功了。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.0")]),s._v(".2\n")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);